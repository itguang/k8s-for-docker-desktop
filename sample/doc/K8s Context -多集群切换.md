# K8s 多集群切换

K8s 的配置文件在 ./kube/config 文件里面

如:
```yaml
apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01URXlPREEwTURVME0xb1hEVE13TVRFeU5qQTBNRFUwTTFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTVFFClVkSFBHMHZGcS9CMEhzdjdPa0FLT3hHd3JRUDhMSHUxQW11c3ZraWxzMnZCMG44Y0FlQ2k3NGswZDEzTDdMQXkKeFVlcElSc2tYOVo1Ym80SFZtclEwcTZSNThLVmlueGpGSXl1S0ZWRmljZGxqY3lwVnpNaEhKTmNBeGdaMjI2agpUREpXOFBScVV2MVZaVDR6VCsyQXU3UzViVVJ0VlVZdmtGN2ZUWGMvSU5qUHBGWmx4cUlvMVY3T1Q1R0tFTG9kCnlTR2ZGSzBXY2EzdmREVktIM0QwR3NsaXpObHpGRGtBY1UvZnFaV0hjTmZCMW1qVTVveVpsa1BrOXBnZmRUT3gKL25FeHlIZ2ZRRXpSU2psaWZWdlB5WEw1anRxL2d6VkZ2REcwRmJaMC8vdnczQ3hhMHJkbjBvNGIyUk5URVFGMApGaXprOFZzMVIvM1VUQ3poeHZjQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0tVTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFFOURweUxWQzBlR1JwMWtZY3hxYk02bmoxUEkKN2lvSXR0NGFkeklUdVg5VTRFNUhnRHdvWXFqNlNEeUNka0NabGcvdW1mMTlFWnYxdmxXdjM5cnhVUWo4RE91NQplamM0eEc1a0RtYVdRZnUvYUNhOHFHd2hGNWF6YTNMb3hUZG9HVmEvWmVnR3FqYkpZNm01Ri9zZHIyeHE1aWV2CnBsWHJEQytrbVdUUEUrN3hYYVNKTnB4NDdQam52S2F4SVQrTkd3MGN5b1RRZzQ4SzdWeHF1Zm92Zys3REwxRWkKa0t0cWlYZlpVRDR0dEhSRWozN1MveW9PQWlNZDBiNWM1Z3ZRZUFKaVl3R0NjQnluUktWeWdhdGJXNS8rNkN0VAppeXRIK2lzU1FUSlVYZ2JPbXNyMUM5bXUwb0FBa3owckhBZDNpODIwNjAxUWx1eFZwYjloR1dyN0grOD0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    server: https://42.192.174.46:443/
  name: cls-m8sslv6n
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01Ea3hPVEUwTlRZeU9Gb1hEVE13TURreE56RTBOVFl5T0Zvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTEY0CkdmUUFna1psQkd6R05Nc2JXSzhEanY5ODNjcUwwZmluUndoLzlzaDZKZGZiejdpMEtRU0R0WVdrVFhWNUpqV2UKQlFPcU9PcG9nMjdiVEJDRnBlMyswQXpVSFBGRHlWc2FHU0xaNG5PTzRZN3FBYnpUMlZjNGJMd0NPZ2w0T0pQbgpaZGNLMEYwYmVId2RrTngzcmZ6VGpscFJra2tOdXNuZEZvdFJ3NjBHQndldzlLaWpXek5ka2pPWXd4WEZkMG1DCndBUjBGRjhSNE8wRDNPMEp5VzJhMElPcmdSVkNVYm0wV3d4MGZaUEhxRW9HM0xocmd6dmtqVUM2OUZiNURXU3YKbHNQSkNEdTB0RmNHUlhKQzhLaWd0cTA4clNaMVB2cFcxSHpkTGxYb0doRC82K2o1MWtHSTY2aUx4UVJPZXlMRAp3d1ZsSjduK0I3NVNxNFpDOFRNQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFDdjM5cTZuNGtMYTRnTG5rbmhtK2hSekNZdVMKVW1zRXZodHhlb3RGc3JnUDYrM2tDSVlXOEdhZHhsa1NWeEgxVVdqckpkRDl1OGhQSUpQaE9HNkVFRzdLblgvNQpQN2s1ZzVnbUFxNk9EMzBOaHQ0YmZuQmNBcWU0RitPc2wyOURCSERqZEZmQ3dEeUZPL2l2WWlxY0N5SHk0MU1NCjBVSkZsWHg5Ym54eVZ6bHI3TEhqdVNtcWRFdUdPQlQ4ZWdkUVE5WkFhcVNiRUU2L3pHQVdseGFQUWRjd0JRSGkKYU5iYkRjT3JVQWJaMGVzS0t6Nk0rZWx3UmdwRmQwWHF2UmRVNy9oVG9LdXZ6dGR1MkJ0T2tnazNCZ1BXOHJhawo3U2JyV01LZWRMR2txVi80YjVXTUVyT1M5THJNS2txV1ljVmgvYnd2R3F3ZzJFVjlyeEpWQkNUS1FuST0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    server: https://kubernetes.docker.internal:6443
  name: docker-desktop
contexts:
- context:
    cluster: cls-m8sslv6n
    user: cls-m8sslv6n-admin
  name: cls-m8sslv6n-context-default
- context:
    cluster: docker-desktop
    user: docker-desktop
  name: docker-desktop
current-context: docker-desktop
kind: Config
preferences: {}
users:
- name: cls-m8sslv6n-admin
  user:
    token: 1ku2fBU0Or00Mqcm0md5VRvialZ
- name: docker-desktop
  user:
    client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM5RENDQWR5Z0F3SUJBZ0lJVEZxWC9rY2pmeHd3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TURBNU1Ua3hORFUyTWpoYUZ3MHlNVEV4TWpnd05ETTJNemhhTURZeApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sc3dHUVlEVlFRREV4SmtiMk5yWlhJdFptOXlMV1JsCmMydDBiM0F3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRHErS3dVa1BERkhnYVcKTDVjVGhLSzZZdlZKSnMzNDVnbGVXdm5WdHVDTCtEbXBhK0RDazV6bFQ1SzBnWmthb2lXcWFHZXMrYXdRSGpBTwpaUFJNaU1PbUdzRzlNeTNwNWQwSGY3UWV0MExmbnBzWDVxNnZNTTEzQklWd2YwRHVKK0MyNUFraDF2MlB4dDJSCjdZZlZ1UU5oYlYvSnJCWmMzRmdpK0VJeEdJWHdjYnFucmhzYmRWeGR5cWJhbkR4YStpMGtTRE1uanJNYjV1WVAKc2pqLzVOZDI1cDBvQ1I2TWpadFh4RmdZOWVNSGkxMDBRRklkNndaZDZqWVdMU21GV1BBVy9LNFUvVVZxSDRUQQpyZ1phNXJZRVNxVG96NTUvTHYzU000aHJZR2RRR1pyRVRCa1hlNkpDMlZzR3dPTXZSTWNBUFUxSVZyNzVNTzFWCkJ6ZXlDVXo3QWdNQkFBR2pKekFsTUE0R0ExVWREd0VCL3dRRUF3SUZvREFUQmdOVkhTVUVEREFLQmdnckJnRUYKQlFjREFqQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFWeGRkTEtibENNTEhPcEphR1E0VmhPOTJ5ZGRuVDVHdwoxSUJDMC9OY0U0U2paODdwSXEwdjdpUlZzZGFJN3FpVG5zYndVOUU0U2lZbFNOcVRRVTU3eWtORnZjTnpVNFZvCkdjZzByY1lXNFdXNktYSWtTbWw5V1JaSkpTL211eHNOeitxakhUNm9GVlRHZElLQTBmSmw4S0FXcTBnT1FtbHcKUGhWSWFKS1JlTUFJS3I1NDlBaHFRNmxmQWxGNVdZMmRHOGJyNVlMQlFCT1BWZXJ4UVFaSjVzVDFmVlFvUm1IQQpvaWNOaW1GbFlZdDIraGkrdDZlNG5hMGRROU1qZlV5M1UrekpiY3pHSjhKNTFHZ1AvQ1d4ViszQS93MHZCY0hsCk1GdXVIVXFoenk0RkwxRFhxQllXSFdZM09PSElCVWpGUHpwK25sczdpaVpyU0hTS1JZOE9hZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcFFJQkFBS0NBUUVBNnZpc0ZKRHd4UjRHbGkrWEU0U2l1bUwxU1NiTitPWUpYbHI1MWJiZ2kvZzVxV3ZnCndwT2M1VStTdElHWkdxSWxxbWhuclBtc0VCNHdEbVQwVElqRHBockJ2VE10NmVYZEIzKzBIcmRDMzU2YkYrYXUKcnpETmR3U0ZjSDlBN2lmZ3R1UUpJZGI5ajhiZGtlMkgxYmtEWVcxZnlhd1dYTnhZSXZoQ01SaUY4SEc2cDY0YgpHM1ZjWGNxbTJwdzhXdm90SkVneko0NnpHK2JtRDdJNC8rVFhkdWFkS0FrZWpJMmJWOFJZR1BYakI0dGRORUJTCkhlc0dYZW8yRmkwcGhWandGdnl1RlAxRmFoK0V3SzRHV3VhMkJFcWs2TStlZnk3OTBqT0lhMkJuVUJtYXhFd1oKRjN1aVF0bGJCc0RqTDBUSEFEMU5TRmErK1REdFZRYzNzZ2xNK3dJREFRQUJBb0lCQUVUMnRYTFgwNExYUERHcQpTQm9YYkxkdHdmWTFhSENyKzRYeEI3QzlHd3laenpxMWllTXg5Zk9ydGpBNmRWaEd6TzFGOVYva2E2YlRaV0ZrCktmdW9qRnZkTUkyNlRyaCttYS9Rd0duZmVjWXVRL0R3Nk1aTWVaRjhCem9zYno4Mi94Sk92WXRzRVVHNHFXRmkKS09NR2lVSjRHb3dUY1FEU1B5QU1ZMGtMbkl3a0ZSby9wOEo4R0Z0aWY3TDdJYk5pbERHbjFEamFPL0tzbzVCeApwRHRNYnF1WEhnNXhtS29ITG5zL1BXQURwTngzS2d5TmgxaVZYRGpPNFBSL05EajdZMGUxd1V0c0VVaTROdGJMCkFjUk9ORmFBUW9GellLUE9tUUp5NDl6c3l3eUJqTkJWRnVGbXNrbWtWQzlGTys1SnFIRmRQaUszRXNGREFiVUEKT2swQi80a0NnWUVBOFM0UDVwdnpQN25qRWdFNnNrdnA1ZnhBRlJ5VTEwdmRaeGcrZFNvSUgrZ0VJVUhiK0UrawpTRWg0Mm9MUVRMUzdXT1dXOG84RERRaVFSSnZWRTJUOWc1dGM5Z1psL3NPWTdGanBsY0wvbG5LNzM3bk1FOGsrCmJRZHB3Zkk5blVjSDU5Snl2dEtmN1VyUGhCSnRaQSt1NkZzYmNLTEtvL2lWNVVrc0JFMDR2NjhDZ1lFQStXangKNTl6UjhSbVNjVE40N1hVWnU2WEdpQ2tNWnAwNmdwWG9RM3ZIRE41MlpIUlNabWZ0cTNQeEdiTFQzd1FrYmU2TQprdVBMbWdMM2d6VU9FS3JObzRPOThaM0tyZlZWNEc4VzRjODZvUkhjelI2bExlZHlRR3NFZHRJalkzSHpNTHIyCnRhZmxpK1NCZlpOMUNHTGVSazhpRzYzU243NGFjL0ZmUDlXcjduVUNnWUVBNGpsam50dFBTc294RFBWc09rdnMKeE5aY3diRENpRVJZRTlqdzFQT3RGVWlMZnlxSWk1MGdxdENYMDliNlRja0ZKbmlNbzA2ei9PaTRjako5cGlpSApoNGdXcFlzUTV1eFBwL29xZUZpbFoxaU5rMmh5M1doYUR1anlNWUxvZW50akZmY1h2SmhTZk1FOGIxVGRtUXNBCjlHQnBGN2tMUE16eXhWUmlYbEtVMVc4Q2dZRUE1NUd4OFRiTTBvK01zWUE2Q2plTWtmYWtjNjJ4THVGUy93WVMKcGYyWjNlLzdldCtwMWgwdXhkOGJmMkhUYUNDZmRsWmp2TXEyTXFRSWpaRklJdCtEbVF0cjQ1Yy9KTzlDTWVUVApHUXZnZ3Naai9Tc3o4SUFSUzVCUmo4VWlTR1gzaDBwQVlIK29HSkFzVHAwSHI2YWtmQ0ZqS05IbVdwMFdVSXBPCmhxVnNRalVDZ1lFQXZDeEk1MjltdlZOUDh6N3NLMXN5OU00d1Q4bkFnNlJSWWhrYVN1Y1h5R1RsSElZTStZd08KNWIvektGdnp4c3lzK1dpdUJ3dEJrdUlyL3NJQnBSanFoMG91bmZTbHVDWXdwMzhyN1VtRGFGQnE0TnQzSCtTbQoyLzBQRjBZc00wakNYeHg3Y0JCMGYyc0dGUUFnR3QveHFCZnVjK3NScmdVRDJLSWV3TjZITDZBPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=

```

有两个集群:

可以通过命令查看
```shell script
» k config get-contexts
CURRENT   NAME                           CLUSTER          AUTHINFO             NAMESPACE
          cls-m8sslv6n-context-default   cls-m8sslv6n     cls-m8sslv6n-admin   
*         docker-desktop                 docker-desktop   docker-desktop       

```

 > *指示目前的集群上下文.

切换集群上下文:
```shell script
 » k config use-context cls-m8sslv6n-context-default
Switched to context "cls-m8sslv6n-context-default".
```



